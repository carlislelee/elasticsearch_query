{
  "query": {
    "function_score": {
      "query": {
        "bool": {
          "filter": {
            "term": {
              "status": 1
            }
          },
          "minimum_should_match": 2,
          "should": [{
            "match": {
              "content": {
                "query": "tiktokortreat",
                "boost": 1.5
              }
            }
          }, {
            "constant_score": {
              "query": {
                "query_string": {
                  "fields": ["content_terms_lv1"],
                  "query": "tiktok or treat"
                }
              },
              "boost": 8
            }
          }, {
            "constant_score": {
              "query": {
                "query_string": {
                  "minimum_should_match": "75%",
                  "fields": ["content_terms_lv1"],
                  "query": "tiktok or treat challenge"
                }
              },
              "boost": 4
            }
          }]
        }
      },
      "functions": [{
        "field_value_factor": {
          "field": "all_score_d",
          "modifier": "sqrt",
          "missing": 0,
          "factor": 16
        }
      }, {
        "field_value_factor": {
          "field": "week_score_d",
          "modifier": "sqrt",
          "missing": 0,
          "factor": 25
        }
      }],
      "score_mode": "sum",
      "boost_mode": "sum"
    }
  }
}

{
  "query": {
    "function_score": {
      "query": {
        "bool": {
          "filter": {
            "term": {
              "status": 1
            }
          },
          "minimum_should_match": 0,
          "should": [{
            "query_string": {
              "minimum_should_match": "90%",
              "fields": ["content_terms_lv2"],
              "query": "tik ikt kto tok oko kor ort rtr tre rea eat"
            }
          }]
        }
      },
      "functions": [{
        "field_value_factor": {
          "field": "all_score_d",
          "modifier": "sqrt",
          "missing": 0,
          "factor": 16
        }
      }, {
        "field_value_factor": {
          "field": "week_score_d",
          "modifier": "sqrt",
          "missing": 0,
          "factor": 25
        }
      }],
      "score_mode": "sum",
      "boost_mode": "sum"
    }
  }
}
