{
    "query": {
        "function_score": {
            "query": {
                "bool": {
                    "filter": [{
                        "term": {
                            "status": 1
                        }
                    }],
                    "minimum_should_match": 1,
                    "disable_coord": "true",
                    "should": [{
                        "constant_score": {
                            "query": {
                                "match": {
                                    "uniq_id": "oreocat"
                                }
                            },
                            "boost": 100
                        }
                    }, {
                        "constant_score": {
                            "query": {
                                "query_string": {
                                    "fields": ["uniq_id_terms_lv1"],
                                    "query": "oreo cat"
                                }
                            },
                            "boost": 10
                        }
                    }, {
                        "constant_score": {
                            "query": {
                                "query_string": {
                                    "fields": ["nickname_terms_lv1"],
                                    "query": "oreo cat"
                                }
                            },
                            "boost": 6
                        }
                    }, {
                        "constant_score": {
                            "query": {
                                "match": {
                                    "country": "US"
                                }
                            },
                            "boost": 2
                        }
                    }],
                    "must": [{
                        "multi_match": {
                            "tie_breaker": 0.3,
                            "query": "ore reo eoc oca cat",
                            "type": "best_fields",
                            "fields": ["uniq_id_terms_lv2", "nickname_terms_lv2"]
                        }
                    }, {
                        "constant_score": {
                            "query": {
                                "term": {
                                    "app_id": 1233
                                }
                            },
                            "boost": 0.000001
                        }
                    }]
                }
            },
            "functions": [{
                "field_value_factor": {
                    "field": "fans_score_d",
                    "missing": 0,
                    "factor": 20
                }
            }, {
                "field_value_factor": {
                    "field": "weight.is_auth",
                    "missing": 0,
                    "factor": 2
                }
            }, {
                "field_value_factor": {
                    "field": "weight.post_count",
                    "modifier": "log1p",
                    "missing": 0,
                    "factor": 0.0001
                }
            }, {
                "field_value_factor": {
                    "field": "porn_credit",
                    "missing": 0,
                    "factor": 0.05
                }
            }],
            "score_mode": "sum",
            "boost_mode": "sum"
        }
    }
}
